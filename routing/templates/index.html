{% extends 'base.html' %}

{% block title %}Home{% endblock %}

{% block head %}
    <script src="https://unpkg.com/vuejs-datepicker"></script>
{% endblock %}

{% block main %}
    {% for space in top_10_spaces %}
        <h1>{{ space.name }}</h1>
        <i>{{ space.verified }}</i>
    {% endfor %}
    <button type="button" class="btn btn-sm btn-outline-primary" onclick="window.location.href=`{% url 'list_spaces' %}?order=top`">View all</button>
    
    {% for space in 10_verified_spaces %}
        <h1>{{ space.name }}</h1>
        <i>{{ space.verified }}</i>
    {% endfor %}
    <button type="button" class="btn btn-sm btn-outline-primary" onclick="window.location.href=`{% url 'list_spaces' %}?verified=true`">View all</button>

    {% include 'includes/message.html' %}
    {% include 'includes/posts.html' %}
{% endblock %}

{% block rest %}
<script>
    axios.defaults.xsrfCookieName = 'csrftoken';
    axios.defaults.xsrfHeaderName = "X-CSRFTOKEN";

    const postsURL = '{% url 'get_all_posts' %}';
    {% include 'includes/js/vue-app-message.js' %}
    {% include 'includes/js/vue-component-comment.js' %}
    {% include 'includes/js/vue-app-posts.js' %}
</script>
<style>
    {% include 'includes/css/posts.css' %}
    {% include 'includes/css/message.css' %}
</style>
{% endblock %}